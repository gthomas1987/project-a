{"ast":null,"code":"import _slicedToArray from \"/Users/george/Documents/George/project-a/project-a/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/george/Documents/George/project-a/project-a/src/components/Dashboard.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Container, Row, Col, Accordion, Button, Card } from 'react-bootstrap';\nimport NPVChart from './NPVChart';\nimport Summary from './Summary';\nimport CurrentAlgos from './CurrentAlgos';\nimport AllAlgos from './AllAlgos';\nimport config from '../config';\nimport { Auth } from \"aws-amplify\";\n\nfunction Dashboard(props) {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        summary = _useState2[0],\n        setSummary = _useState2[1];\n\n  const _useState3 = useState([]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        npvChart = _useState4[0],\n        setNpvChart = _useState4[1];\n\n  const _useState5 = useState(false),\n        _useState6 = _slicedToArray(_useState5, 2),\n        refresh = _useState6[0],\n        setRefresh = _useState6[1];\n\n  const _useState7 = useState(\"\"),\n        _useState8 = _slicedToArray(_useState7, 2),\n        userid = _useState8[0],\n        setUserid = _useState8[1];\n\n  const handleRefresh = () => {\n    console.log(\"Calling dashboard refresh\");\n    setRefresh(!{\n      refresh\n    }.refresh);\n  };\n\n  async function onLoad() {\n    await Auth.currentAuthenticatedUser({\n      bypassCache: false // Optional, By default is false. If set to true, this call will send a request to Cognito to get the latest user data\n\n    }).then(user => setUserid(user.username)).catch(err => console.log(err));\n  }\n\n  useEffect(() => {\n    onLoad();\n\n    async function FetchSummary() {\n      const data = {\n        \"userid\": userid\n      };\n      await fetch(config.apiGateway.URL + \"/getsummary\", {\n        method: 'POST',\n        // or 'PUT'\n        body: JSON.stringify(data),\n        // data can be `string` or {object}!\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        }\n      }).then(response => response.json()).then(data => {\n        console.log(\"Fetching dashboard API\");\n        setSummary(data);\n        console.log(data);\n        setNpvChart(data.npvchart);\n      }).catch(error => console.log(error));\n    }\n\n    FetchSummary();\n  }, [userid, refresh]);\n  return React.createElement(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }), React.createElement(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(Col, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(Summary, {\n    refresh: handleRefresh,\n    userid: userid,\n    summary: summary,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  })), React.createElement(Col, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(NPVChart, {\n    npvchart: npvChart,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }))), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }), React.createElement(Accordion, {\n    defaultActiveKey: \"0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(Card, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(Card.Header, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, React.createElement(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(Col, {\n    sm: 10,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, React.createElement(Accordion.Toggle, {\n    as: Button,\n    variant: \"link\",\n    eventKey: \"0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, \"Algos\")), React.createElement(Col, {\n    sm: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(AllAlgos, {\n    summary: summary,\n    userid: userid,\n    refresh: handleRefresh,\n    refreshDash: refresh,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  })))), React.createElement(Accordion.Collapse, {\n    eventKey: \"0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(Card.Body, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(CurrentAlgos, {\n    summary: summary,\n    userid: userid,\n    refresh: handleRefresh,\n    refreshDash: refresh,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }))))));\n}\n\nexport default Dashboard;","map":{"version":3,"sources":["/Users/george/Documents/George/project-a/project-a/src/components/Dashboard.js"],"names":["React","useState","useEffect","Container","Row","Col","Accordion","Button","Card","NPVChart","Summary","CurrentAlgos","AllAlgos","config","Auth","Dashboard","props","summary","setSummary","npvChart","setNpvChart","refresh","setRefresh","userid","setUserid","handleRefresh","console","log","onLoad","currentAuthenticatedUser","bypassCache","then","user","username","catch","err","FetchSummary","data","fetch","apiGateway","URL","method","body","JSON","stringify","headers","response","json","npvchart","error"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react';\nimport {Container,Row,Col,Accordion, Button, Card} from 'react-bootstrap';\nimport NPVChart from './NPVChart'\nimport Summary from './Summary'\nimport CurrentAlgos from './CurrentAlgos'\nimport AllAlgos from './AllAlgos'\nimport config from '../config';\nimport { Auth } from \"aws-amplify\";\n\nfunction Dashboard(props) {\n  const [summary,setSummary] = useState([]);\n  const [npvChart,setNpvChart] = useState([]);\n  const [refresh,setRefresh] = useState(false);\n  const [userid,setUserid] = useState(\"\");\n\n  \n\n  const handleRefresh = () => {\n    console.log(\"Calling dashboard refresh\")\n    setRefresh(!{refresh}.refresh);\n  }\n\n  async function onLoad(){\n    await Auth.currentAuthenticatedUser({\n      bypassCache: false  // Optional, By default is false. If set to true, this call will send a request to Cognito to get the latest user data\n    })\n    .then(user => setUserid(user.username))\n    .catch(err => console.log(err));\n  }\n\n  \n  \n  useEffect(()=>{\n    \n    onLoad();\n    async function FetchSummary(){\n      const data = {\"userid\":userid}\n      await fetch(config.apiGateway.URL+\"/getsummary\", {\n          method: 'POST', // or 'PUT'\n          body: JSON.stringify(data), // data can be `string` or {object}!\n          headers: {\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n          }\n        })\n        .then(response=>response.json())\n        .then(data=>{\n          console.log(\"Fetching dashboard API\")\n          setSummary(data)\n          console.log(data)\n          setNpvChart(data.npvchart)\n        })\n        .catch(error=>console.log(error));\n    }\n    FetchSummary();\n    \n  },[userid,refresh]);\n\n  \n  return (\n    \n    <Container>\n      <br></br>\n      <br></br>\n      <Row>\n        <Col><Summary refresh ={handleRefresh} userid={userid} summary={summary}/></Col>\n        <Col><NPVChart npvchart={npvChart}/></Col>\n        \n      </Row>\n      <br></br>\n      <Accordion defaultActiveKey=\"0\">\n        <Card>\n          <Card.Header>\n            <Row>\n            <Col sm={10}>\n            <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"0\">\n              Algos\n            </Accordion.Toggle>\n            </Col>\n            <Col sm={2}>\n            <AllAlgos summary={summary} userid={userid} refresh ={handleRefresh} refreshDash={refresh}/>\n            </Col>\n            </Row>\n          </Card.Header>\n          <Accordion.Collapse eventKey=\"0\">\n            <Card.Body><CurrentAlgos summary={summary} userid={userid} refresh ={handleRefresh} refreshDash={refresh}/></Card.Body>\n          </Accordion.Collapse>\n        </Card>\n      </Accordion>\n    </Container>\n  );\n}\n\nexport default Dashboard;\n"]},"metadata":{},"sourceType":"module"}